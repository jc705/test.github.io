System.register("chunks:///_virtual/DailyTasksView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts","./Config.ts","./GetRewardView.ts","./MyReqHttp.ts","./SingletonFactory.ts","./DataCenter.ts","./AssetsManager.ts","./GlobalContext.ts"],(function(e){var t,i,s,a,n,r,o,l,c,p,u,h,m,g,d,f,y,w,B,C,v,k,D,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,a=e._decorator,n=e.find,r=e.UITransform,o=e.Label,l=e.SpriteFrame,c=e.Sprite,p=e.Node,u=e.Tween,h=e.tween,m=e.v3,g=e.ScrollView,d=e.instantiate},function(e){f=e.PopView},function(e){y=e.Path},function(e){w=e.Sort},function(e){B=e.default},function(e){C=e.default},function(e){v=e.default},function(e){k=e.default},function(e){D=e.default},function(e){I=e.BundleName}],execute:function(){var b,T,V,_,P,R,z,S,M,F,j;s._RF.push({},"1dd73EZVv9DIpG30jSU6zds","DailyTasksView",void 0);const{ccclass:A,property:E}=a,x={30000007:()=>"game_poker",30000406:()=>"game_rummy",12101105:()=>"game_tp"},G={30000007:()=>w.dzpk,30000406:()=>w.pointRummy,12101105:()=>w.zjh},H={1:e=>"luckspin",2:e=>x[e]&&x[e]()||""};e("default",(b=A("DailyTasksView"),T=y("popBase"),V=y("popBase/btn_close"),_=y("item"),P=y("popBase/scrollView",g),b((S=t((z=class extends f{constructor(...e){super(...e),i(this,"popBase",S,this),i(this,"closeBtn",M,this),i(this,"itemPre",F,this),i(this,"scrollView",j,this)}get dataCenter(){return v.getInst(k)}onMount(){this.closeBtn.on("click",this.onClickCloseBtn,this)}onShow(){this.refreshList(),this.showPopAnim()}refreshList(){const e="https://djapi.szhmkeji.com/api/daily_tasks/lst";let t={userID:this.dataCenter.getMyInfo().userID,cacheTime:6e6},i=e=>{if(0==e.status){this.scrollView.content.removeAllChildren();const t=e.data;t.sort(((e,t)=>{let i=0;return 1==e.receive&&i++,1==t.receive&&i--,0==e.receive&&e.rate>=e.target&&i--,0==t.receive&&t.rate>=t.target&&i++,i}));let i=0;for(let e=0;e<t.length;e++){const s=t[e];let a=d(this.itemPre);this.initItem(s,a),0==i&&s.rate>=s.target&&0==s.receive&&(i=1)}}};C.post(e,t,(e=>{i(e)}),null,e,(e=>{i(e)}))}initItem(e,t){let i=n("icon",t),s=n("completed",t),a=n("geryBtn",t),u=n("collectBtn",t),h=n("goBtn",t),m=n("reward/icon",t),g=n("reward/label",t),d=n("desc",t),f=n("ProgressBar/bar",t).getComponent(r),y=n("ProgressBar/label",t),w=n("mask",t);const B=Math.min(e.rate,e.target);y.getComponent(o).string=`${B}/${e.target}`,f.width=B/e.target*274,d.getComponent(o).string=e.name,D.loadSpriteFrame("textures/images/DailyTasksView/TaskIcon/"+H[e.typeID](e.gameID),l,((t,i)=>{t?ERROR(t):(m.getComponent(c).spriteFrame=i,g.getComponent(o).string=e.rewardAmount)})),D.loadSpriteFrame("textures/images/DailyTasksView/TaskIcon/"+H[e.typeID](e.gameID),I.Hall,l,((e,t)=>{e?ERROR(e):i.getComponent(c).spriteFrame=t})),s.active=1==e.receive,w.active=1==e.receive,u.active=e.rate>=e.target&&0==e.receive,2==e.typeID?(a.active=!1,h.active=e.rate<e.target,h.on(p.EventType.TOUCH_END,(()=>{this.onClickGoBtn(G[e.gameID]())}))):(h.active=!1,a.active=e.rate<e.target),this.scrollView.content.addChild(t),t.x=0,t.active=!0,u.on(p.EventType.TOUCH_END,(()=>{this.onClickCollectBtn(e)}))}showPopAnim(){u.stopAllByTarget(this.popBase),h(this.popBase).set({scale:m(0,0,1)}).to(.4,{scale:m(1,1,1)},{easing:"backOut"}).start()}onClickCollectBtn(e){let t={userID:this.dataCenter.getMyInfo().userID,id:e.id};C.post("https://djapi.szhmkeji.com/api/daily_tasks/receive",t,(e=>{0==e.status&&(this.dataCenter.setMyInfoMoney(e.data.money),B.show(999),this.refreshList())}))}onClickCloseBtn(e){u.stopAllByTarget(this.popBase),h(this.popBase).to(.2,{scale:m(0,0,1)}).call((()=>{this.hide()})).start()}onClickGoBtn(e){this.hide()}}).prototype,"popBase",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"closeBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"itemPre",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/GetRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts"],(function(e){var t,r,n,i,a,o,s,l,p,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e._decorator,a=e.Tween,o=e.tween,s=e.v3,l=e.Sprite,p=e.Label},function(e){u=e.PopView},function(e){c=e.Path}],execute:function(){var w,h,d,B,b,f,P,g,m,y,C;n._RF.push({},"88160GAlnNIh6LEWGhSd0PI","GetRewardView",void 0);const{ccclass:I,property:k}=i;e("default",(w=I("GetRewardView"),h=c("popBase"),d=c("popBase/rewardCloseBtn"),B=c("popBase/wupubkuang/reward",l),b=c("popBase/numLabel",p),w((g=t((P=class extends u{constructor(...e){super(...e),r(this,"rewardPanelpopBase",g,this),r(this,"rewardCloseBtn",m,this),r(this,"rewardIcon",y,this),r(this,"num",C,this)}onMount(){this.rewardCloseBtn.on("click",this.onClickCloseBtn,this)}onShow(){this.showPopAnim()}onInit(e){this.initUI(e)}initUI(e){this.num.string=`â‚¹${e}`}showPopAnim(){a.stopAllByTarget(this.rewardPanelpopBase),o(this.rewardPanelpopBase).set({scale:s(0,0,1)}).to(.4,{scale:s(1,1,1)},{easing:"backOut"}).start()}onClickCloseBtn(e){a.stopAllByTarget(this.rewardPanelpopBase),o(this.rewardPanelpopBase).to(.2,{scale:s(0,0,1)}).call((()=>{this.hide()})).start()}}).prototype,"rewardPanelpopBase",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(P.prototype,"rewardCloseBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(P.prototype,"rewardIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(P.prototype,"num",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=P))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/Hall",["./DailyTasksView.ts","./GetRewardView.ts","./HallView.ts","./LoginBoxView.ts","./LoginView.ts","./RouletteWheelView.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/HallView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts","./VirtualList.ts","./Config.ts","./AssetsManager.ts","./GlobalContext.ts","./RouletteWheelView.ts","./DailyTasksView.ts"],(function(t){var e,i,n,a,s,l,o,r,u,c,p,m,f,h,g,y,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t._decorator,s=t.find,l=t.sp,o=t.Sprite,r=t.SpriteFrame},function(t){u=t.FullView},function(t){c=t.Path},function(t){p=t.VirtualList},function(t){m=t.GAME_LIST,f=t.GameType},function(t){h=t.default},function(t){g=t.BundleName},function(t){y=t.default},function(t){k=t.default}],execute:function(){var d,b,S,w,B,L,R,T,V,D,C;n._RF.push({},"75e7a4ZKe1ER77KqqGuySjl","HallView",void 0);const{ccclass:H,property:_}=a;t("HallView",(d=H("HallView"),b=c("gameItem"),S=c("games",p),w=c("left_spines/LuckySpinBtn"),B=c("left_spines/DailyTasksBtn"),d((T=e((R=class extends u{constructor(...t){super(...t),i(this,"gameItem",T,this),i(this,"games",V,this),i(this,"luckySpinBtn",D,this),i(this,"dailyTasksBtn",C,this),this.gameList=[]}async onMount(){this.gameList.length=0,this.gameList=m.filter((t=>t.type===f.LIST)),this.luckySpinBtn.on("click",this.onClickLuckySpinBtn.bind(this)),this.dailyTasksBtn.on("click",this.onClickDailyTasksBtn.bind(this)),this.games.init(this.gameList.length,((t,e,i)=>{const n=this.gameList[t],a=s("spine",e).getComponent(l.Skeleton),u=s("mask/bg",e).getComponent(o);h.load(n.animation,g.Hall,l.SkeletonData,((t,e)=>{t?ERROR(t):(a.skeletonData=e,a.setAnimation(0,"animation",!0))})),h.loadSpriteFrame(n.cover,g.Hall,r,((t,e)=>{t?ERROR(t):u.spriteFrame=e}))}))}onClickLuckySpinBtn(){y.show()}onClickDailyTasksBtn(){k.show()}}).prototype,"gameItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(R.prototype,"games",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"luckySpinBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(R.prototype,"dailyTasksBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoginBoxView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts","./EventManager.ts","./SingletonFactory.ts","./GlobalContext.ts","./HallView.ts"],(function(t){var i,e,n,s,o,r,a,l,c,h,g,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,o=t.EditBox},function(t){r=t.PopView},function(t){a=t.Path},function(t){l=t.default},function(t){c=t.Autowired},function(t){h=t.EventKey,g=t.ViewName},function(t){u=t.HallView}],execute:function(){var p,B,b,f,d,w,_,E,v,R,k,y,C,V,L,m,M;n._RF.push({},"a8b296WE0hBYpiFRJgkrK3h","LoginBoxView",void 0);const{ccclass:x,property:z}=s;t("LoginBoxView",(p=x("LoginBoxView"),B=c(l),b=a("login_bg/login_btn"),f=a("login_bg/canel_btn"),d=a("login_bg/register_btn"),w=a("login_bg/phone_edit",o),_=a("login_bg/password_edit",o),E=a("register_btn"),p((k=i((R=class extends r{constructor(...t){super(...t),e(this,"eventManager",k,this),e(this,"loginBtn",y,this),e(this,"canelBtn",C,this),e(this,"registerBtn",V,this),e(this,"phoneEdit",L,this),e(this,"passwordEdit",m,this),e(this,"toRegisterBtn",M,this),this._isAgree=!1,this._state=-1}set state(t){if(t!==this._state)switch(this._state=t,t){case 0:this.registerBtn.active=!1,this.canelBtn.active=!1,this.loginBtn.active=!0,this.toRegisterBtn.active=!0;break;case 1:this.registerBtn.active=!0,this.canelBtn.active=!0,this.loginBtn.active=!1,this.toRegisterBtn.active=!1}}onMount(){this.loginBtn.on("click",this.onClickLoginBtn,this),this.canelBtn.on("click",this.onClickCanelBtn,this),this.registerBtn.on("click",this.onClickRegisterBtn,this),this.toRegisterBtn.on("click",this.onClickToRegisterBtn,this)}onShow(){this.eventManager.on(h.AGREEMENT_AGREE,this.setState,this),this.state=0}onHide(){this.eventManager.off(h.AGREEMENT_AGREE,this.setState),this.state=-1}setState(t){this._isAgree=t}onInit(t,i){this.state=t,this._isAgree=i}onClickLoginBtn(){ShowTip(g.LoadingTipView),this.scheduleOnce((()=>{u.resetTo(),Hide(g.LoadingTipView)}),2)}onClickCanelBtn(){this.state=0}onClickRegisterBtn(){LOG(this.phoneEdit.string,this.passwordEdit.string)}onClickToRegisterBtn(){this.state=1}}).prototype,"eventManager",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(R.prototype,"loginBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(R.prototype,"canelBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(R.prototype,"registerBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(R.prototype,"phoneEdit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(R.prototype,"passwordEdit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(R.prototype,"toRegisterBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoginView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts","./LoginBoxView.ts","./EventManager.ts","./SingletonFactory.ts","./GlobalContext.ts"],(function(t){var e,i,o,n,r,l,s,g,c,a,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t._decorator,r=t.Toggle},function(t){l=t.onMount,s=t.FullView},function(t){g=t.Path},function(t){c=t.LoginBoxView},function(t){a=t.default},function(t){u=t.Autowired},function(t){h=t.EventKey}],execute:function(){var b,p,f,y,w,d,m,v,C,k,L,_,E;o._RF.push({},"12c18yxEipIMZm1+I4bgCIC","LoginView",void 0);const{ccclass:M,property:V}=n;t("LoginView",(b=M("LoginView"),p=u(a),f=g("logo"),y=g("btns"),w=g("bottom_base"),d=g("bottom_base/toggle",r),b((C=e((v=class extends s{constructor(...t){super(...t),i(this,"eventManager",C,this),i(this,"logo",k,this),i(this,"btns",L,this),i(this,"bottomNode",_,this),i(this,"toggle",E,this)}mount(){this.btns.getChildByName("login_btn").on("click",this.onClickLogin,this),this.btns.getChildByName("register_btn").on("click",this.onClickRegister,this),this.toggle.node.on("toggle",this.onToggle,this)}onClickLogin(){this.logo.active=!1,this.btns.active=!1,c.show(0,this.toggle.isChecked)}onClickRegister(){this.logo.active=!1,this.btns.active=!1,c.show(1,this.toggle.isChecked)}onToggle(t){this.eventManager.trigger(h.AGREEMENT_AGREE,this.toggle.isChecked)}}).prototype,"eventManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"logo",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"btns",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(v.prototype,"bottomNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"toggle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(v.prototype,"mount",[l],Object.getOwnPropertyDescriptor(v.prototype,"mount"),v.prototype),m=v))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/RouletteWheelView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./tea.decorators.ts","./GetRewardView.ts"],(function(t){var e,i,n,s,l,o,a,r,h,p,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,l=t.v3,o=t.Tween,a=t.tween,r=t.Button,h=t.UIOpacity},function(t){p=t.PopView},function(t){c=t.Path},function(t){u=t.default}],execute:function(){var g,B,w,m,y,b,f,d,A,v,T,S,C,R,k,z,F;n._RF.push({},"a3410FR+V5MmoiiQ8pYSwmg","RouletteWheelView",void 0);const{ccclass:P,property:V}=s;t("default",(g=P("RouletteWheelView"),B=c("popBase"),w=c("popBase/close"),m=c("popBase/lights"),y=c("popBase/spinBtn"),b=c("popBase/wheel_cir"),f=c("popBase/women"),d=c("popBase/wheel_Frame/lighting_bingo"),g((T=e((v=class extends p{constructor(...t){super(...t),i(this,"popBase",T,this),i(this,"closeBtn",S,this),i(this,"lights",C,this),i(this,"spinBtn",R,this),i(this,"wheel",k,this),i(this,"women",z,this),i(this,"lightingBingo",F,this),this.spinList=[],this.isShow=!1}onMount(){this.closeBtn.on("click",this.onClickCloseBtn,this),this.spinBtn.on("click",this.onClickSpinBtn,this)}onShow(){this.isShow=!1,this.popBase.scale=l(0,0,1),this.wheel.angle=0,this.intoGame()}showReward(t){u.show(1+~~(1e3*Math.random()))}defaultSpinAnim(t){let e=1,i=this.lights.children;i.forEach(((t,e)=>{t.children[0].active=!1})),o.stopAllByTarget(this.lights),a(this.lights).repeat(4,a(this.lights).delay(.3).call((()=>{i.forEach(((t,e)=>{t.children[0].active=!t.children[0].active}))}))).start(),this.scheduleOnce((()=>{o.stopAllByTarget(this.lights),a(this.lights).repeatForever(a(this.lights).delay(1).call((()=>{e^=1,i.forEach(((t,i)=>{t.children[0].active=i%2==e}))}))).start()}),1),o.stopAllByTarget(this.spinBtn),t&&a(this.spinBtn).repeatForever(a(this.spinBtn).to(.4,{scale:l(1.05,1.05,1)}).to(.4,{scale:l(1,1,1)})).start(),o.stopAllByTarget(this.wheel),t&&a(this.wheel).repeatForever(a(this.wheel).set({angle:0}).to(14,{angle:-360})).start(),o.stopAllByTarget(this.women),a(this.women).repeatForever(a(this.women).by(1,{y:5}).by(1,{y:-5})).start()}showPopAnim(t){t&&t(),o.stopAllByTarget(this.popBase),a(this.popBase).set({scale:l(0,0,1)}).to(.4,{scale:l(1,1,1)},{easing:"backOut"}).call((()=>{this.defaultSpinAnim(this.spinBtn.getComponent(r).interactable)})).start()}intoGame(){this.showPopAnim((()=>{this.spinBtn.getComponent(r).interactable=!0}))}onInitRoomInfo(t){}onSpanResult(t){if(t){let e=t.order;this.spinAnim(e)}}onClickSpinBtn(t){this.spinAnim(~~(8*Math.random()))}spinAnim(t){this.spinBtn.getComponent(r).interactable=!1;let e=45*t-1800+22.5;const i=this.lightingBingo.getComponent(h);o.stopAllByTarget(this.wheel),o.stopAllByTarget(this.spinBtn),o.stopAllByTarget(i);let n=a(i).to(.2,{opacity:0}).to(.2,{opacity:255});(()=>new Promise(((t,i)=>{this.wheel.angle%=-360,a(this.wheel).to(8,{angle:e},{easing:"cubicOut"}).call((()=>{t(null)})).start()})))().then((()=>new Promise(((t,e)=>{a(i).set({opacity:255}).repeat(2,n).call((()=>{t(null)})).start()})))).then((()=>{this.showReward(t),this.spinBtn.getComponent(r).interactable=!0}))}checkSpinTip(){}onClickCloseBtn(t){o.stopAllByTarget(this.popBase),a(this.popBase).to(.2,{scale:l(0,0,1)}).call((()=>{this.checkSpinTip(),this.hide()})).start()}}).prototype,"popBase",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(v.prototype,"closeBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"lights",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(v.prototype,"spinBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"wheel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(v.prototype,"women",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(v.prototype,"lightingBingo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v))||A));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/Hall', 'chunks:///_virtual/Hall'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});